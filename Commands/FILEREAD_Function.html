<?xml version="1.0" encoding="Windows-1252"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:tocPath="AeroBasic Programming|Commands and Functions|File and Serial Port" MadCap:InPreviewMode="false" MadCap:PreloadImages="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="HtmlHelp" MadCap:PathToHelpSystem="../" MadCap:HelpSystemFileName="A3200.xml" MadCap:SearchType="Stem">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=Windows-1252" /><title>FILEREAD Function</title>
        <link href="../SkinSupport/Slideshow.css" rel="stylesheet" />
        <link href="../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/Header.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/MasterPage_Footer.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/AerotechHelpStyles.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/Header.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/NoLines.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/Syntax.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/Note.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/Basic.css" rel="stylesheet" />
        <script src="../SkinSupport/jquery.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapGlobal.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapSlideshow.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapMerging.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapAliasFile.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapUtilities.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapBody.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapHighlighter.js" type="text/javascript">
        </script>
    </head>
    <body>
        <script type="text/javascript">
            <!--
			window.onbeforeprint = function(e) {
				var nodes = document.getElementsByTagName("*");
				for (var i = 0; i < nodes.length; i++ ) {			
					if (nodes[i].nodeType == 1)
					{
						var args = nodes[i].attributes;
						for (var j = 0; j < args.length; j++) {
						if ( args[j].name == "MadCap:targetName" )
						{
							nodes[i].setAttribute( "className", "MCTogglerBody" );
						}
						}
					}
				}
			}						
			-->
        </script>
        <table style="width: 100%;margin-left: -7px;margin-right: auto;mc-table-style: url('../Resources/TableStyles/Header.css');" cellspacing="0" MadCap:conditions="AerotechConditions.A3200Only" class="TableStyle-Header">
            <col class="TableStyle-Header-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Header-Body-Body1" style="height: 55px;">
                    <td style="background-repeat: no-repeat;vertical-align: top;background-image: url('../Resources/Images/Header/Header_A3200.png');background-position-y: top;padding-left: 0px;padding-right: 0px;padding-top: 0px;padding-bottom: 0px;border-left-style: none;border-right-style: none;border-top-style: none;border-bottom-style: none;border-bottom-width: 1px;border-bottom-color: #dae3ea;" class="TableStyle-Header-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_MD_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="../Programming_Overview.htm">AeroBasic Programming</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbsSelf">Commands and Functions</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="file_Category.html">File and Serial Port</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">FILEREAD</span>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table border="0px" style="margin-left: 0;margin-right: auto;width: 100%;mc-table-style: url('../Resources/TableStyles/NoLines.css');" class="TableStyle-NoLines" cellspacing="0">
            <col class="TableStyle-NoLines-Column-Column1" />
            <col class="TableStyle-NoLines-Column-Column1" />
            <tr class="TableStyle-NoLines-Body-Body1">
                <td class="TableStyle-NoLines-BodyE-Column1-Body1">
                    <h1 MadCap:autonum=""><span class="autonumber"><span></span></span>FILEREAD Function</h1>
                </td>
                <td class="TableStyle-NoLines-BodyD-Column1-Body1" />
            </tr>
        </table>
        <p>Reads data from a file or serial port into variables on the controller.</p>
        <table class="TableStyle-Syntax" cellspacing="0" style="margin-left: 0;margin-right: auto;mc-table-style: url('../Resources/TableStyles/Syntax.css');width: 650px;">
            <col style="width: 70px;" class="TableStyle-Syntax-Column-Column1" />
            <col class="TableStyle-Syntax-Column-Column2" />
            <tbody>
                <tr class="TableStyle-Syntax-Body-Body1">
                    <td class="TableStyle-Syntax-BodyE-Column1-Body1" rowspan="2">
                        <p class="SyntaxTableHeader">Syntax:</p>
                    </td>
                </tr>
                <tr class="TableStyle-Syntax-Body-Body1">
                    <td class="TableStyle-Syntax-BodyD-Column2-Body1"><pre><i>&lt;return&gt;</i>&#160;=&#160;FILEREAD&#160;<i>&lt;FileHandle&gt;</i>,&#160;<i>&lt;Mode&gt;</i>,&#160;<i>&lt;InputVariable&gt;</i> [ <i>&lt;InputVariable&gt;</i> ... ]</pre>
                    </td>
                </tr>
                <tr class="TableStyle-Syntax-Body-Body1">
                    <td class="TableStyle-Syntax-BodyB-Column1-Body1">
                        <p class="SyntaxTableHeader">Example:</p>
                    </td>
                    <td class="TableStyle-Syntax-BodyA-Column2-Body1"><pre>$nItems = FILEREAD $hFile, 0, $strglob[0]</pre>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="Table_Title_bold_Numbered" MadCap:autonum="Table: &#160;&#160;&#160;&#160;"><span class="autonumber"><span>Table: &#160;&#160;&#160;&#160;</span></span>FILEREAD Function Arguments
						</p>
        <table class="TableStyle-Basic" cellspacing="0" style="mc-table-style: url('../Resources/TableStyles/Basic.css');margin-left: 0;margin-right: auto;width: 650px;">
            <thead>
                <tr class="TableStyle-Basic-Head-Header1">
                    <th class="TableStyle-Basic-HeadE-Column1-Header1">
                        <p style="text-align: left;">Argument</p>
                    </th>
                    <th class="TableStyle-Basic-HeadE-Column1-Header1">
                        <p style="text-align: left;">Type</p>
                    </th>
                    <th class="TableStyle-Basic-HeadD-Column1-Header1">
                        <p style="text-align: left;">Description</p>
                    </th>
                </tr>
            </thead>
            <tr class="TableStyle-Basic-Body-Body1">
                <td class="TableStyle-Basic-BodyE-Column1-Body1">
                    <p><span class="commandArgument">
												&lt;FileHandle&gt;
											</span>
                    </p>
                </td>
                <td class="TableStyle-Basic-BodyE-Column1-Body1">
                    <p><a href="../Parameter_Types.htm" MadCap:conditions="AerotechConditions.Option_MainA3200,AerotechConditions.Option_MainEnsemble,AerotechConditions.Option_MainSoloist">32-bit signed integer</a>
                    </p>
                </td>
                <td class="TableStyle-Basic-BodyD-Column1-Body1">
                    <p>The file handle (reference number) of a file or serial port for which you want to read data. This file handle is returned by the FILEOPEN function.</p>
                </td>
            </tr>
            <tr class="TableStyle-Basic-Body-Body1">
                <td class="TableStyle-Basic-BodyE-Column1-Body1">
                    <p><span class="commandArgument">
												&lt;Mode&gt;
											</span>
                    </p>
                </td>
                <td class="TableStyle-Basic-BodyE-Column1-Body1">
                    <p><a href="../Parameter_Types.htm" MadCap:conditions="AerotechConditions.Option_MainA3200,AerotechConditions.Option_MainEnsemble,AerotechConditions.Option_MainSoloist">32-bit signed integer</a>
                    </p>
                </td>
                <td class="TableStyle-Basic-BodyD-Column1-Body1">
                    <p>Specifies the file or serial port read mode that you want to use. To see the possible values, refer to <span class="bold">Table: <span class="commandArgument">&lt;Mode&gt;</span> Argument Values</span>.</p>
                </td>
            </tr>
            <tr class="TableStyle-Basic-Body-Body1">
                <td class="TableStyle-Basic-BodyE-Column1-Body1">
                    <p><span class="commandArgument">
												&lt;InputVariable&gt;
											</span>
                    </p>
                </td>
                <td class="TableStyle-Basic-BodyE-Column1-Body1">
                    <p><a href="../Parameter_Types.htm" MadCap:conditions="AerotechConditions.Option_MainA3200,AerotechConditions.Option_MainEnsemble,AerotechConditions.Option_MainSoloist">64-bit IEEE floating point variable</a>
                    </p>
                </td>
                <td class="TableStyle-Basic-BodyD-Column1-Body1">
                    <p>Specifies the variable to save the data to. You must have a variable for each item that is read.</p>
                </td>
            </tr>
            <tr class="TableStyle-Basic-Body-Body1">
                <td class="TableStyle-Basic-BodyE-Column1-Body1">
                    <p>RETURNS</p>
                </td>
                <td class="TableStyle-Basic-BodyE-Column1-Body1">
                    <p><a href="../Parameter_Types.htm" MadCap:conditions="AerotechConditions.Option_MainA3200,AerotechConditions.Option_MainEnsemble,AerotechConditions.Option_MainSoloist">32-bit signed integer</a>
                    </p>
                </td>
                <td class="TableStyle-Basic-BodyD-Column1-Body1">
                    <p>The number of items read. If the function is reading from a file and it reads to the end of file (EOF) condition, the value returned is zero.</p>
                </td>
            </tr>
        </table>
        <table style="width: 650px;mc-table-style: url('../Resources/TableStyles/Note.css');margin-left: 0;margin-right: auto;" class="TableStyle_Note" cellspacing="0">
            <tbody>
                <tr>
                    <td class="TableStyle_Note_Body_0_0_RowEnd_ColEnd">
                        <p><span class="note">Note:</span> This command is executed as a callback and does not execute in real time. The time that it takes for this command to execute is different for different PC configurations. Refer to <a href="../Callback_Commands.htm">Callback Commands</a> for more information.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p><a name="kanchor1958"></a>Use the FILEREAD function to read data from a file or serial port into variables on the controller. The file handle (reference number) of that file or serial port is returned by the <a href="FILEOPEN_Function.html">FILEOPEN</a> function.</p>
        <p>The table that follows shows the possible values for the <span class="commandArgument">&lt;Mode&gt;</span> argument.</p>
        <p class="Table_Title_bold_Numbered" MadCap:autonum="Table: &#160;&#160;&#160;&#160;"><span class="autonumber"><span>Table: &#160;&#160;&#160;&#160;</span></span><span class="commandArgument">&lt;Mode&gt;</span> Argument Values</p>
        <table style="width: 650px;mc-table-style: url('../Resources/TableStyles/Basic.css');margin-left: 0;margin-right: auto;" class="TableStyle-Basic" cellspacing="0">
            <col style="width: 70px;" class="TableStyle-Basic-Column-Column1" />
            <col class="TableStyle-Basic-Column-Column1" />
            <thead>
                <tr class="TableStyle-Basic-Head-Header1">
                    <th class="TableStyle-Basic-HeadE-Column1-Header1">
                        <p>Value</p>
                    </th>
                    <th class="TableStyle-Basic-HeadD-Column1-Header1">
                        <p style="text-align: left;">Description</p>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-Basic-Body-Body1">
                    <td class="TableStyle-Basic-BodyE-Column1-Body1">
                        <p style="text-align: center;">0</p>
                    </td>
                    <td class="TableStyle-Basic-BodyD-Column1-Body1">
                        <p><span class="bold">Default</span> Specify one <span class="commandArgument">&lt;InputVariable&gt;</span> argument for each item on the data line.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Basic-Body-Body1">
                    <td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">
                        <p>1</p>
                    </td>
                    <td class="TableStyle-Basic-BodyD-Column1-Body1">
                        <p><span class="bold">Array Mode</span>. Specify only one <span class="commandArgument">&lt;InputVariable&gt;</span> argument as an array. All items read from the data line are sequentially written into the array. The variable specified must be an array element and the number of values in the file line or serial port line must be less than or equal to the size of the array.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Basic-Body-Body1">
                    <td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">
                        <p>2</p>
                    </td>
                    <td class="TableStyle-Basic-BodyD-Column1-Body1">
                        <p><span class="bold">Decimal Comma Mode</span> The comma (,) is used instead of the decimal point (.). For example,  1.234 is written as 1,234.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Basic-Body-Body1">
                    <td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">
                        <p>3</p>
                    </td>
                    <td class="TableStyle-Basic-BodyD-Column1-Body1">
                        <p><span class="bold">Array and Decimal Comma Mode</span> Specify only one <span class="commandArgument">&lt;InputVariable&gt;</span> argument as an array and use  the comma (,) instead of the decimal point (.). All items read from the data line are sequentially written into the array. The variable specified must be an array element and the number of values in the file line or serial port line must be less than or equal to the size of the array. </p>
                    </td>
                </tr>
                <tr class="TableStyle-Basic-Body-Body1">
                    <td class="TableStyle-Basic-BodyB-Column1-Body1" style="text-align: center;">
                        <p>4</p>
                    </td>
                    <td class="TableStyle-Basic-BodyA-Column1-Body1">
                        <p><span class="bold">Binary Mode</span> The file or serial port is read in binary mode and returns each byte without converting it to a character. Only one <span class="commandArgument">&lt;InputVariable&gt;</span> argument is specified and only one byte is read in and its numeric value is returned by that variable.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>The <span class="commandArgument">&lt;InputVariable&gt;</span> type must match the items in the file or serial port data. For example, if the data file or serial port line is "My Text", 6.7, then "FILEREAD $hfile, 0, $global[0], $strglob[0]" generates a task error while "FILEREAD $hfile, 0, $strglob[0], $global[0]" succeeds because the variable types match the data in the order the data is read from the data file or serial port.</p>
        <p>This function sets the <a href="../Info_Variables.htm" class="MCXref_0">Info Variables</a> if one or more of the following error conditions occur.</p>
        <ul>
            <li value="1">Windows finds an error while it is reading from this file or serial port. </li>
            <li value="2">The value read cannot be stored in the applicable <span class="commandArgument">&lt;InputVariable&gt;</span> because the value is an incorrect data type or the value is empty. </li>
        </ul>
        <p>All other error conditions set the Task Error.</p>
        <h3 MadCap:autonum=""><span class="autonumber"><span></span></span>Assignment of Data Read by the FILEREAD Function</h3>
        <p>Variables that contain data must follow the <span class="commandArgument">&lt;Mode&gt;</span> argument on the command line.</p>
        <p>Each item on the line read from the data file or serial port is sequentially assigned to the variables on the FILEREAD function line (first data item is assigned to the first item read, and so forth) unless, the array mode is active.</p>
        <p>Program, task, or global variables can receive data. But, the type of variable must match the data read (string or numeric) or an error is generated.</p>
        <p>For example, the line: 0.987, "string" can be read by "FILEREAD $fil 0 $global[0] $strglob[0]", but not by "FILEREAD $fil 0 $strglob[0] $global[0]".</p>
        <h3 MadCap:autonum=""><span class="autonumber"><span></span></span>FILEREAD Function File Format</h3>
        <p>The FILEREAD function reads one line of data at a time when a line is terminated by a non-printable ASCII character (a character which is not a tab, and whose ASCII code is less than 32). The next data line begins at the next printable ASCII character. Therefore, &lt;CR&gt;, or &lt;CR&gt;&lt;LF&gt; are valid line terminators.</p>
        <p>Each item must be a value (integer or floating point) or a string (surrounded by double quotes).</p>
        <p>If an integer value is preceded by 0x, it is interpreted to be a hexadecimal number; not preceded by 0x, a decimal number. If there is more than one data item on one line of data, the data items must be separated by either white space or a comma. </p>
        <h4 class="exampleHeading" MadCap:autonum=""><span class="autonumber"><span></span></span>Example</h4>
        <div class="codeexample"><pre xml:space="preserve">
FILEREAD $hfile, 0, $global[0], $strglob[0]
' Read from the file or serial port that contains the 0.987 "string".</pre>
        </div>
        <h3 class="refExProg" MadCap:autonum=""><span class="autonumber"><span></span></span>Reference Example Programs</h3>
        <p class="refExProg"><a href="../Samples/File_Access.htm" class="MCXref_0">File Access Example</a>
        </p>
        <p class="refExProg"><a href="../Samples/Serial_Communication.htm" class="MCXref_0">Serial Communication Example</a>
        </p>
        <h3 class="relatedTopics" MadCap:autonum=""><span class="autonumber"><span></span></span>Related Topics
</h3>
        <p class="relatedTopic"><a href="file_Category.html">File and Serial Port Command Category</a>
        </p><a name="kanchor1959"></a>
        <MadCap:pageFooter class="OddPage">
            <hr color="#006400" width="100%" size="0" align="center" />
            <table style="width: 100%;border-left-style: none;border-left-width: 1px;border-right-style: none;border-right-width: 1px;border-top-style: none;border-top-width: 1px;border-bottom-style: none;border-bottom-width: 1px;margin-left: 0;margin-right: auto;mc-table-style: url('../Resources/TableStyles/MasterPage_Footer.css');" class="TableStyle-MasterPage_Footer" cellspacing="0">
                <col class="Column-Column1" />
                <col class="Column-Column2" />
                <tbody>
                    <tr class="Body-Body1">
                        <td class="BodyB-Column1-Body1">
                            <p class="feedback">Was this information helpful?</p><a href="http://help.aerotech.com/feedback/?product=A3200&amp;type=help&amp;id=FILEREAD_Function.html&amp;version=6.04.003&amp;helpful=yes" target="_blank"><div class="feedback"><p>Yes</p></div></a><a href="http://help.aerotech.com/feedback/?product=A3200&amp;type=help&amp;id=FILEREAD_Function.html&amp;version=6.04.003&amp;helpful=no" target="_blank"><div class="feedback"><p>No</p></div></a>
                        </td>
                        <td class="BodyA-Column2-Body1" style="text-align: right;">
                            <p class="footer"><span class="AerotechVariablesCompanyName">Aerotech, Inc.</span>
                            </p>
                            <p class="trademarkandCopyright" style="text-align: right;" MadCap:conditions="AerotechConditions.A3200Only,AerotechConditions.A3200Programming,AerotechConditions.Option_LabVIEWA3200">Copyright <img src="../Resources/Images/Header/CopyrightSymbol.png" /> 2001-<span class="AerotechVariablesCurrentYear">2020</span></p>
                            <p class="footer"> All Rights Reserved </p>
                            <p class="footer"><a href="mailto:Support@aerotech.com" target="_blank" title="Support Email Address" alt="Support Email Address">Support@aerotech.com</a>
                            </p>
                            <p class="footer"><a href="http://www.aerotech.com/" target="_blank" title="http://www.aerotech.com" alt="http://www.aerotech.com"><span class="AerotechVariablesWebAddress">www.aerotech.com</span></a>
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </MadCap:pageFooter>
        <script type="text/javascript" src="../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>