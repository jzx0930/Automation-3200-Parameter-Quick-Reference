<?xml version="1.0" encoding="Windows-1252"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:tocPath="AeroBasic Programming|Commands and Functions|Tuning" MadCap:InPreviewMode="false" MadCap:PreloadImages="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="HtmlHelp" MadCap:PathToHelpSystem="../" MadCap:HelpSystemFileName="A3200.xml" MadCap:SearchType="Stem">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=Windows-1252" /><title>MSET Command</title>
        <link href="../SkinSupport/Slideshow.css" rel="stylesheet" />
        <link href="../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/Header.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/MasterPage_Footer.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/AerotechHelpStyles.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/Header.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/NoLines.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/Syntax.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/Basic.css" rel="stylesheet" />
        <script src="../SkinSupport/jquery.js">
        </script>
        <script src="../SkinSupport/MadCapGlobal.js">
        </script>
        <script src="../SkinSupport/MadCapSlideshow.js">
        </script>
        <script src="../SkinSupport/MadCapMerging.js">
        </script>
        <script src="../SkinSupport/MadCapAliasFile.js">
        </script>
        <script src="../SkinSupport/MadCapUtilities.js">
        </script>
        <script src="../SkinSupport/MadCapEffects.js">
        </script>
        <script src="../SkinSupport/MadCapEffectsMenu.js">
        </script>
        <script src="../SkinSupport/MadCapBody.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapHighlighter.js" type="text/javascript">
        </script>
    </head>
    <body>
        <script type="text/javascript">
            <!--
			window.onbeforeprint = function(e) {
				var nodes = document.getElementsByTagName("*");
				for (var i = 0; i < nodes.length; i++ ) {			
					if (nodes[i].nodeType == 1)
					{
						var args = nodes[i].attributes;
						for (var j = 0; j < args.length; j++) {
						if ( args[j].name == "MadCap:targetName" )
						{
							nodes[i].setAttribute( "className", "MCTogglerBody" );
						}
						}
					}
				}
			}						
			-->
        </script>
        <table style="width: 100%;margin-left: -7px;margin-right: auto;mc-table-style: url('../Resources/TableStyles/Header.css');" cellspacing="0" MadCap:conditions="AerotechConditions.A3200Only" class="TableStyle-Header">
            <col class="TableStyle-Header-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Header-Body-Body1" style="height: 55px;">
                    <td style="background-repeat: no-repeat;vertical-align: top;background-image: url('../Resources/Images/Header/Header_A3200.png');background-position-y: top;padding-left: 0px;padding-right: 0px;padding-top: 0px;padding-bottom: 0px;border-left-style: none;border-right-style: none;border-top-style: none;border-bottom-style: none;border-bottom-width: 1px;border-bottom-color: #dae3ea;" class="TableStyle-Header-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_MD_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="../Programming_Overview.htm">AeroBasic Programming</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbsSelf">Commands and Functions</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="tuning_Category.html">Tuning</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">MSET</span>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table border="0px" style="margin-left: 0;margin-right: auto;width: 100%;mc-table-style: url('../Resources/TableStyles/NoLines.css');" class="TableStyle-NoLines" cellspacing="0">
            <col class="TableStyle-NoLines-Column-Column1" />
            <col class="TableStyle-NoLines-Column-Column1" />
            <tr class="TableStyle-NoLines-Body-Body1">
                <td class="TableStyle-NoLines-BodyE-Column1-Body1">
                    <h1 MadCap:autonum=""><span class="autonumber"><span></span></span>MSET Command</h1>
                </td>
                <td class="TableStyle-NoLines-BodyD-Column1-Body1" />
            </tr>
        </table>
        <p>Generates an open-loop current command.</p>
        <table class="TableStyle-Syntax" cellspacing="0" style="margin-left: 0;margin-right: auto;mc-table-style: url('../Resources/TableStyles/Syntax.css');width: 650px;">
            <col style="width: 70px;" class="TableStyle-Syntax-Column-Column1" />
            <col class="TableStyle-Syntax-Column-Column2" />
            <tbody>
                <tr class="TableStyle-Syntax-Body-Body1">
                    <td class="TableStyle-Syntax-BodyE-Column1-Body1" rowspan="2">
                        <p class="SyntaxTableHeader">Syntax:</p>
                    </td>
                </tr>
                <tr class="TableStyle-Syntax-Body-Body1">
                    <td class="TableStyle-Syntax-BodyD-Column2-Body1"><pre>MSET&#160;<i>&lt;Axis&gt;</i>&#160;<i>&lt;Current&gt;</i>&#160;<i>&lt;Angle&gt;</i></pre>
                    </td>
                </tr>
                <tr class="TableStyle-Syntax-Body-Body1">
                    <td class="TableStyle-Syntax-BodyB-Column1-Body1">
                        <p class="SyntaxTableHeader">Example:</p>
                    </td>
                    <td class="TableStyle-Syntax-BodyA-Column2-Body1"><pre xml:space="preserve">MSET X, 0.8, 60</pre>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="Table_Title_bold_Numbered" MadCap:autonum="Table: &#160;&#160;&#160;&#160;"><span class="autonumber"><span>Table: &#160;&#160;&#160;&#160;</span></span>MSET Command Arguments
						</p>
        <table class="TableStyle-Basic" cellspacing="0" style="mc-table-style: url('../Resources/TableStyles/Basic.css');margin-left: 0;margin-right: auto;width: 650px;">
            <thead>
                <tr class="TableStyle-Basic-Head-Header1">
                    <th class="TableStyle-Basic-HeadE-Column1-Header1">
                        <p style="text-align: left;">Argument</p>
                    </th>
                    <th class="TableStyle-Basic-HeadE-Column1-Header1">
                        <p style="text-align: left;">Type</p>
                    </th>
                    <th class="TableStyle-Basic-HeadD-Column1-Header1">
                        <p style="text-align: left;">Description</p>
                    </th>
                </tr>
            </thead>
            <tr class="TableStyle-Basic-Body-Body1">
                <td class="TableStyle-Basic-BodyE-Column1-Body1">
                    <p><span class="commandArgument">&lt;Axis&gt;</span>
                    </p>
                </td>
                <td class="TableStyle-Basic-BodyE-Column1-Body1">
                    <p><a href="../Axis_Variable_Type.htm">Axis</a>
                    </p>
                </td>
                <td class="TableStyle-Basic-BodyD-Column1-Body1">
                    <p>The axis on which to execute the command.</p>
                </td>
            </tr>
            <tr class="TableStyle-Basic-Body-Body1">
                <td class="TableStyle-Basic-BodyE-Column1-Body1">
                    <p><span class="commandArgument">
												&lt;Current&gt;
											</span>
                    </p>
                </td>
                <td class="TableStyle-Basic-BodyE-Column1-Body1">
                    <p><a href="../Parameter_Types.htm" MadCap:conditions="AerotechConditions.Option_MainA3200,AerotechConditions.Option_MainEnsemble,AerotechConditions.Option_MainSoloist">64-bit IEEE floating point</a>
                    </p>
                </td>
                <td class="TableStyle-Basic-BodyD-Column1-Body1">
                    <p>The current to output, in amperes.</p>
                </td>
            </tr>
            <tr class="TableStyle-Basic-Body-Body1">
                <td class="TableStyle-Basic-BodyE-Column1-Body1">
                    <p><span class="commandArgument">
												&lt;Angle&gt;
											</span>
                    </p>
                </td>
                <td class="TableStyle-Basic-BodyE-Column1-Body1">
                    <p><a href="../Parameter_Types.htm" MadCap:conditions="AerotechConditions.Option_MainA3200,AerotechConditions.Option_MainEnsemble,AerotechConditions.Option_MainSoloist">32-bit signed integer</a>
                    </p>
                </td>
                <td class="TableStyle-Basic-BodyD-Column1-Body1">
                    <p>The electrical angle, in degrees. 360 degrees is one electrical commutation cycle of the motor.</p>
                </td>
            </tr>
        </table>
        <p>Use the MSET command to generate an open-loop current command output to the motor. This command locks the motor commutation and calculates the three specific motor phase currents that are needed to position the motor shaft at the specified angle. The electrical vector, which is applied to the motor, includes any offset angle specified by the <a href="../Parameters/CommutationOffset.html">CommutationOffset</a> parameter. The MSET command is useful for verifying the sequencing and alignment of Hall-effect switches and for troubleshooting motor commutation problems. The following table shows the expected Hall states for different MSET angles.</p>
        <p class="Table_Title_bold_Numbered" MadCap:autonum="Table: &#160;&#160;&#160;&#160;"><span class="autonumber"><span>Table: &#160;&#160;&#160;&#160;</span></span>Hall States Expected at Different MSET&#160;Angles</p>
        <table style="width: 650px;mc-table-style: url('../Resources/TableStyles/Basic.css');margin-left: 0;margin-right: auto;" class="TableStyle-Basic" cellspacing="0">
            <thead>
                <tr class="TableStyle-Basic-Head-Header1">
                    <th class="TableStyle-Basic-HeadE-Column1-Header1">
                        MSET Angle Range
                    </th>
                    <th class="TableStyle-Basic-HeadE-Column1-Header1">
                        Hall A
                    </th>
                    <th class="TableStyle-Basic-HeadE-Column1-Header1">
                        Hall B
                    </th>
                    <th class="TableStyle-Basic-HeadD-Column1-Header1">
                        Hall C
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-Basic-Body-Body1">
                    <td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">
                        <p>330° - 30°</p>
                    </td>
                    <td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">
                        <p>L</p>
                    </td>
                    <td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">
                        <p>L</p>
                    </td>
                    <td class="TableStyle-Basic-BodyD-Column1-Body1" style="text-align: center;">
                        <p>H</p>
                    </td>
                </tr>
                <tr class="TableStyle-Basic-Body-Body1">
                    <td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">
                        <p>30° - 90°</p>
                    </td>
                    <td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">
                        <p>L</p>
                    </td>
                    <td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">
                        <p>H</p>
                    </td>
                    <td class="TableStyle-Basic-BodyD-Column1-Body1" style="text-align: center;">
                        <p>H</p>
                    </td>
                </tr>
                <tr class="TableStyle-Basic-Body-Body1">
                    <td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">
                        <p>90° - 150°</p>
                    </td>
                    <td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">
                        <p>L</p>
                    </td>
                    <td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">
                        <p>H</p>
                    </td>
                    <td class="TableStyle-Basic-BodyD-Column1-Body1" style="text-align: center;">
                        <p>L</p>
                    </td>
                </tr>
                <tr class="TableStyle-Basic-Body-Body1">
                    <td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">
                        <p>150° - 210°</p>
                    </td>
                    <td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">
                        <p>H</p>
                    </td>
                    <td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">
                        <p>H</p>
                    </td>
                    <td class="TableStyle-Basic-BodyD-Column1-Body1" style="text-align: center;">
                        <p>L</p>
                    </td>
                </tr>
                <tr class="TableStyle-Basic-Body-Body1">
                    <td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">
                        <p>210° - 270°</p>
                    </td>
                    <td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">
                        <p>H</p>
                    </td>
                    <td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">
                        <p>L</p>
                    </td>
                    <td class="TableStyle-Basic-BodyD-Column1-Body1" style="text-align: center;">
                        <p>L</p>
                    </td>
                </tr>
                <tr class="TableStyle-Basic-Body-Body1">
                    <td class="TableStyle-Basic-BodyB-Column1-Body1" style="text-align: center;">
                        <p>270° - 330°</p>
                    </td>
                    <td class="TableStyle-Basic-BodyB-Column1-Body1" style="text-align: center;">
                        <p>H</p>
                    </td>
                    <td class="TableStyle-Basic-BodyB-Column1-Body1" style="text-align: center;">
                        <p>L</p>
                    </td>
                    <td class="TableStyle-Basic-BodyA-Column1-Body1" style="text-align: center;">
                        <p>H</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>If the axis is not enabled, issuing an MSET command with a nonzero current enables it. You can terminate an MSET&#160;command with the <a href="DISABLE_Command.html">DISABLE</a> command, <a href="ABORT_Command.html">ABORT</a> command, or by issuing an MSET&#160;command with zero current. Depending on the angle of the motor with respect to the applied electrical vector, an MSET command can cause the motor to move by up to one-half of an electrical cycle. For this reason, both the <a href="../StructsAutoGen/axisfault_Position_Error.html">Position Error Fault</a> and <a href="../StructsAutoGen/axisfault_Velocity_Error.html">Velocity Error Fault</a> are suppressed during the MSET command.</p>
        <p>Most rotary servomotors have multiple electrical cycles per motor revolution, which means that the MSET&#160;angle might not directly correspond to the angle of the motor shaft. The following illustration shows the alignment of the magnetic poles for a typical eight pole brushless motor. One electrical cycle is defined as the progression from one north pole through its corresponding south pole and to the next north pole. In this case there are four orientations of the motor shaft that would correspond to the same MSET&#160;angle.</p>
        <div class="MCDropDown"><a class="MCDropDownHotSpot_figure_0" href="javascript:void(0);" id="MCDropDownHotSpot_139912682_0" onclick="FMCDropDown( this ); return false;"><img style="border: none;margin-right: 5px;" src="../SkinSupport/DropDownClosed.gif" MadCap:altsrc="../SkinSupport/DropDownOpen.gif" onload="if ( typeof( FMCPreloadImage ) == 'function' ) { FMCPreloadImage( '../SkinSupport/DropDownOpen.gif' ); }" alt="Closed" MadCap:alt2="Open" class="MCDropDownIcon" />Figure: One Electrical Cycle</a>
            <div class="MCDropDownBody_0" id="MCDropDownBody_139912682_0" style="display: none;">
                <p class="img">
                    <img src="../Resources/Images/Figure_MSET_OneElectricalCycle.png" />
                </p>
            </div>
        </div>
        <p>This command is an asynchronous motion command, which means that program execution immediately continues to the next program line before motion is complete. Use the <a href="WAIT%20MOVEDONE_Command.html">WAIT&#160;MOVEDONE</a> or <a href="WAIT%20MODE%20INPOS_Command.html">WAIT&#160;INPOS</a> command to wait for motion to complete. </p>
        <h3 class="refExProg" MadCap:autonum=""><span class="autonumber"><span></span></span>Reference Example Programs</h3>
        <p class="refExProg"><a href="../Samples/Motor_Verification.htm">Motor Verification</a>
        </p>
        <h3 class="relatedTopics" MadCap:autonum=""><span class="autonumber"><span></span></span>Related Topics</h3>
        <p class="relatedTopic"><a href="ENABLE_Command.html">ENABLE Command</a>
        </p>
        <p class="relatedTopic"><a href="MC_Command.html">MC Command</a>
        </p>
        <p class="relatedTopic"><a href="motion_Category.html">Motion Command Category</a>
        </p>
        <p class="relatedTopic"><a href="tuning_Category.html">Tuning Command Category</a>
        </p><a name="kanchor1881"></a>
        <MadCap:pageFooter class="OddPage">
            <hr color="#006400" width="100%" size="0" align="center" />
            <table style="width: 100%;border-left-style: none;border-left-width: 1px;border-right-style: none;border-right-width: 1px;border-top-style: none;border-top-width: 1px;border-bottom-style: none;border-bottom-width: 1px;margin-left: 0;margin-right: auto;mc-table-style: url('../Resources/TableStyles/MasterPage_Footer.css');" class="TableStyle-MasterPage_Footer" cellspacing="0">
                <col class="Column-Column1" />
                <col class="Column-Column2" />
                <tbody>
                    <tr class="Body-Body1">
                        <td class="BodyB-Column1-Body1">
                            <p class="feedback">Was this information helpful?</p><a href="http://help.aerotech.com/feedback/?product=A3200&amp;type=help&amp;id=MSET_Command.html&amp;version=6.04.003&amp;helpful=yes" target="_blank"><div class="feedback"><p>Yes</p></div></a><a href="http://help.aerotech.com/feedback/?product=A3200&amp;type=help&amp;id=MSET_Command.html&amp;version=6.04.003&amp;helpful=no" target="_blank"><div class="feedback"><p>No</p></div></a>
                        </td>
                        <td class="BodyA-Column2-Body1" style="text-align: right;">
                            <p class="footer"><span class="AerotechVariablesCompanyName">Aerotech, Inc.</span>
                            </p>
                            <p class="trademarkandCopyright" style="text-align: right;" MadCap:conditions="AerotechConditions.A3200Only,AerotechConditions.A3200Programming,AerotechConditions.Option_LabVIEWA3200">Copyright <img src="../Resources/Images/Header/CopyrightSymbol.png" /> 2001-<span class="AerotechVariablesCurrentYear">2020</span></p>
                            <p class="footer"> All Rights Reserved </p>
                            <p class="footer"><a href="mailto:Support@aerotech.com" target="_blank" title="Support Email Address" alt="Support Email Address">Support@aerotech.com</a>
                            </p>
                            <p class="footer"><a href="http://www.aerotech.com/" target="_blank" title="http://www.aerotech.com" alt="http://www.aerotech.com"><span class="AerotechVariablesWebAddress">www.aerotech.com</span></a>
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </MadCap:pageFooter>
        <script type="text/javascript" src="../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>