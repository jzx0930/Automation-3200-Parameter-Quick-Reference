<?xml version="1.0" encoding="Windows-1252"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:tocPath="AeroBasic Programming|Programming Notes|PSO" MadCap:InPreviewMode="false" MadCap:PreloadImages="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="HtmlHelp" MadCap:PathToHelpSystem="" MadCap:HelpSystemFileName="A3200.xml" MadCap:SearchType="Stem">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=Windows-1252" /><title>Part-Speed PSO</title>
        <link href="SkinSupport/Slideshow.css" rel="stylesheet" />
        <link href="SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="Resources/TableStyles/Header.css" rel="stylesheet" />
        <link href="Resources/TableStyles/MasterPage_Footer.css" rel="stylesheet" />
        <link href="Resources/Stylesheets/AerotechHelpStyles.css" rel="stylesheet" />
        <link href="Resources/TableStyles/Header.css" rel="stylesheet" />
        <link href="Resources/TableStyles/When_Statement.css" rel="stylesheet" />
        <link href="Resources/TableStyles/Note.css" rel="stylesheet" />
        <link href="Resources/TableStyles/CodeEx.css" rel="stylesheet" />
        <script src="SkinSupport/jquery.js" type="text/javascript">
        </script>
        <script src="SkinSupport/MadCapGlobal.js" type="text/javascript">
        </script>
        <script src="SkinSupport/MadCapSlideshow.js" type="text/javascript">
        </script>
        <script src="SkinSupport/MadCapMerging.js" type="text/javascript">
        </script>
        <script src="SkinSupport/MadCapAliasFile.js" type="text/javascript">
        </script>
        <script src="SkinSupport/MadCapUtilities.js" type="text/javascript">
        </script>
        <script src="SkinSupport/MadCapBody.js" type="text/javascript">
        </script>
        <script src="SkinSupport/MadCapHighlighter.js" type="text/javascript">
        </script>
    </head>
    <body>
        <script type="text/javascript">
            <!--
			window.onbeforeprint = function(e) {
				var nodes = document.getElementsByTagName("*");
				for (var i = 0; i < nodes.length; i++ ) {			
					if (nodes[i].nodeType == 1)
					{
						var args = nodes[i].attributes;
						for (var j = 0; j < args.length; j++) {
						if ( args[j].name == "MadCap:targetName" )
						{
							nodes[i].setAttribute( "className", "MCTogglerBody" );
						}
						}
					}
				}
			}						
			-->
        </script>
        <table style="width: 100%;margin-left: -7px;margin-right: auto;mc-table-style: url('Resources/TableStyles/Header.css');" cellspacing="0" MadCap:conditions="AerotechConditions.A3200Only" class="TableStyle-Header">
            <col class="TableStyle-Header-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Header-Body-Body1" style="height: 55px;">
                    <td style="background-repeat: no-repeat;vertical-align: top;background-image: url('Resources/Images/Header/Header_A3200.png');background-position-y: top;padding-left: 0px;padding-right: 0px;padding-top: 0px;padding-bottom: 0px;border-left-style: none;border-right-style: none;border-top-style: none;border-bottom-style: none;border-bottom-width: 1px;border-bottom-color: #dae3ea;" class="TableStyle-Header-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_MD_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="Programming_Overview.htm">AeroBasic Programming</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="ProgrammingNotes/Constant_Torque.htm">Programming Notes</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="PSO_Command_Overview.htm">PSO</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Part-Speed PSO</span>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <h1 MadCap:autonum=""><span class="autonumber"><span></span></span><a name="kanchor1053"></a>Part-Speed PSO</h1>
        <table style="margin-left: 0;margin-right: auto;width: 650px;mc-table-style: url('Resources/TableStyles/Note.css');" class="TableStyle_Note" cellspacing="0">
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_Note_Body_0_0_RowEnd_ColEnd">
                        <p><span class="driveNote">Hardware:</span> Part-Speed PSO applies to the <span class="AerotechVariablesSimpleName_Ndrive">Ndrive</span> <span class="AerotechVariablesDriveType_FCL">FCL</span>, <span class="AerotechVariablesSimpleName_Nmark">Nmark</span> <span class="AerotechVariablesDriveType_Galvo_Compact_Linear">GCL</span>, <span class="AerotechVariablesDriveType_GL4">GL4</span>, <span class="AerotechVariablesDriveType_XC2">XC2</span>, <span class="AerotechVariablesDriveType_XC4">XC4</span>, <span class="AerotechVariablesDriveType_XC4e">XC4e</span>, <span class="AerotechVariablesDriveType_XL4s">XL4s</span>, and <span class="AerotechVariablesDriveType_XR3">XR3</span>.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>Part-Speed PSO&#160;gives you access to PSO&#160;when encoder feedback is nonlinear or not available. This PSO is possible because the A3200 controller uses the part-space vector velocity command to calculate the distance between firing events. Part-Speed PSO is available on one or more axes for different drive types. For information about drives that support Part-Speed PSO, refer to <a href="Hardware_Overview.htm" class="MCXref_0">Hardware Overview</a>.</p>
        <p>When Part-Speed PSO is enabled, a real or virtual axis (or axes) generates the velocity command that is tracked as virtual encoder counts. The virtual encoder counts are passed to the drive axis that contains the PSO output and hardware. This axis tracks the virtual PSO&#160;counts and generates the PSO&#160;pulses.</p>
        <p>Use the <a href="Commands/PULSE%20SET%20OUTPUT_Command.html" class="MCXref_0">PULSE SET OUTPUT Command</a>, <a href="Commands/PSOTRACK%20INPUT_Command.html" class="MCXref_0">PSOTRACK INPUT Command</a>, and <a href="Commands/PSOWINDOW%20INPUT_Command.html" class="MCXref_0">PSOWINDOW INPUT Command</a> to configure Part-Speed PSO.</p>
        <ul>
            <li value="1">Use the PULSE SET OUTPUT command to generate an internal signal that you can configure as an input to PSO.</li>
            <li value="2">Configure the PSOTRACK INPUT command and PSOWINDOW INPUT command to use the PULSE output.</li>
        </ul>
        <h4 class="exampleHeading" MadCap:autonum=""><span class="autonumber"><span></span></span>Example</h4>
        <table class="TableStyle-CodeEx" style="mc-table-style: url('Resources/TableStyles/CodeEx.css');margin-left: 0;margin-right: auto;caption-side: top;" cellspacing="0">
            <col style="width: 647px;" class="TableStyle-CodeEx-Column-Column1" />
            <tbody>
                <tr class="TableStyle-CodeEx-Body-Body1">
                    <td class="TableStyle-CodeEx-BodyA-Column1-Body1"><pre xml:space="preserve">
' This example shows how to configure Part-Speed PSO. In the example, X and Y are 
' virtual axes, and x is a real axis with PSO output and hardware. 

' Configure the virtual encoder counts generated by the X and Y axes to pass to the 
' counter of the "real" x axis. This is necessary because the x axis will generate
' the PSO pulses. 	
PULSE SET X Y OUTPUT x

'Enable the pulse output mode.
PULSE ON

' Reset the PSO. This resets the internal state of the PSO hardware, including the
' distance tracking counters and the window counters.
PSOCONTROL x RESET

' Change the default PSO output location. The arguments for this command are
' different for different drive types. Refer to the PSOOUTPUT&#160;CONTROL command 
' topic for the applicable argument values.
' Refer to your drive hardware manual for more information.
PSOOUTPUT x CONTROL 0 1

' Configure the PSO for one-axis tracking from the pulse generator of the x axis. 
PSOTRACK x INPUT 14

' Configure the PSO to generate a firing event at a fixed distance. 
' This example fires every 0.5 user units traveled.
PSODISTANCE x FIXED ABS(UNITSTOCOUNTS (X, 0.5))

'Set the total on and off times to configure the pulse generator.
PSOPULSE x TIME 15, 14

' Specify the output of the PSO to come from the pulse generator.
PSOOUTPUT x PULSE
				
' Arm the PSO to start the distance tracking.
PSOCONTROL x ARM

' Continue the program and enter the necessary lines of code to program motion
' on Axis X and Axis Y. </pre>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>Read the information that follows before you program Part-Speed PSO.</p>
        <ul>
            <li value="1">The pulse generator output of the <a href="Commands/PULSE%20ON_OFF_Command.html" class="MCXref_0">PULSE ON/OFF Command</a> has a maximum output rate of 24 MHz. The <a href="Parameters/CountsPerUnit.html" class="MCXref_0">CountsPerUnit Parameter</a> and programmed velocity (feedrate) of the virtual axes determine the PULSE command pulse generator output rate. To calculate the maximum allowable programmed velocity, use the equation that follows.</li>
            <p>
                <img src="GeneratedImages/Equations/Equation199.png" style="width: 242px;height: 35px;" alt="" class="_MCEquation_0 mcReset" />
            </p>
            <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('Resources/TableStyles/When_Statement.css');" class="TableStyle-When_Statement" cellspacing="0">
                <col class="Column-Column1" />
                <col />
                <tbody>
                    <tr class="Body-Body2">
                        <td class="BodyB-Column1-Body2">where</td>
                        <td class="BodyA--Body2">EncoderCountFreq = 24 MHz.</td>
                    </tr>
                </tbody>
            </table>
            <li value="2">When you use the <a href="Parameters/CountsPerUnit.html" class="MCXref_0">CountsPerUnit Parameter</a>, the user counts for the PSO axis must equal an integer. In the example, the <a href="Commands/UNITSTOCOUNTS_Function.html" class="MCXref_0">UNITSTOCOUNTS Function</a> converts the user units of the virtual X axis to counts. If one user unit is equal to 1000 counts, you must program the PSO to fire at a minimum of 0.001 user units. The PSO&#160;cannot fire at intervals that are less than one count.</li>
            <li value="3">The PSO outputs on Aerotech drives have an output frequency limit for PSO output pulses. Refer to <a href="PSO_Specifications.htm" class="MCXref_0">PSO Specifications</a> for values of specific drive types. To calculate the minimum spacing between pulses, use the equation that follows.</li>
            <p>
                <img src="GeneratedImages/Equations/Equation200.png" style="width: 260px;height: 35px;" alt="" class="_MCEquation_0 mcReset" />
            </p>
            <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('Resources/TableStyles/When_Statement.css');" class="TableStyle-When_Statement" cellspacing="0">
                <col class="Column-Column1" />
                <col />
                <tbody>
                    <tr class="Body-Body2">
                        <td class="BodyB-Column1-Body2">where</td>
                        <td class="BodyA--Body2">LaserOutputFreq is the value from the PSO Specifications topic.</td>
                    </tr>
                </tbody>
            </table>
        </ul>
        <h3 class="relatedTopics" MadCap:autonum=""><span class="autonumber"><span></span></span>Related Topics
        </h3>
        <p class="relatedTopic"><a href="Hardware_Overview.htm" class="MCXref_0">Hardware Overview</a>
        </p>
        <p class="relatedTopic"><a href="PSO_Command_Overview.htm" class="MCXref_0">PSO Overview</a>
        </p>
        <p class="relatedTopic"><a href="Commands/PSOOUTPUT%20CONTROL_Command.html" class="MCXref_0">PSOOUTPUT CONTROL Command</a>
        </p>
        <p class="relatedTopic"><a href="PSO_Specifications.htm" class="MCXref_0">PSO Specifications</a>
        </p>
        <p class="relatedTopic"><a href="Commands/pulse_Category.html" class="MCXref_0">Pulse Command Category</a>
        </p>
        <MadCap:pageFooter class="OddPage">
            <hr color="#006400" width="100%" size="0" align="center" />
            <table style="width: 100%;border-left-style: none;border-left-width: 1px;border-right-style: none;border-right-width: 1px;border-top-style: none;border-top-width: 1px;border-bottom-style: none;border-bottom-width: 1px;margin-left: 0;margin-right: auto;mc-table-style: url('Resources/TableStyles/MasterPage_Footer.css');" class="TableStyle-MasterPage_Footer" cellspacing="0">
                <col class="Column-Column1" />
                <col class="Column-Column2" />
                <tbody>
                    <tr class="Body-Body1">
                        <td class="BodyB-Column1-Body1">
                            <p class="feedback">Was this information helpful?</p><a href="http://help.aerotech.com/feedback/?product=A3200&amp;type=help&amp;id=PSO_Part-Speed_PSO.htm&amp;version=6.04.003&amp;helpful=yes" target="_blank"><div class="feedback"><p>Yes</p></div></a><a href="http://help.aerotech.com/feedback/?product=A3200&amp;type=help&amp;id=PSO_Part-Speed_PSO.htm&amp;version=6.04.003&amp;helpful=no" target="_blank"><div class="feedback"><p>No</p></div></a>
                        </td>
                        <td class="BodyA-Column2-Body1" style="text-align: right;">
                            <p class="footer"><span class="AerotechVariablesCompanyName">Aerotech, Inc.</span>
                            </p>
                            <p class="trademarkandCopyright" style="text-align: right;" MadCap:conditions="AerotechConditions.A3200Only,AerotechConditions.A3200Programming,AerotechConditions.Option_LabVIEWA3200">Copyright <img src="Resources/Images/Header/CopyrightSymbol.png" /> 2001-<span class="AerotechVariablesCurrentYear">2020</span></p>
                            <p class="footer"> All Rights Reserved </p>
                            <p class="footer"><a href="mailto:Support@aerotech.com" target="_blank" title="Support Email Address" alt="Support Email Address">Support@aerotech.com</a>
                            </p>
                            <p class="footer"><a href="http://www.aerotech.com/" target="_blank" title="http://www.aerotech.com" alt="http://www.aerotech.com"><span class="AerotechVariablesWebAddress">www.aerotech.com</span></a>
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </MadCap:pageFooter>
        <script type="text/javascript" src="SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>